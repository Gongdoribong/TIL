# π“‘ [2026-02-09] C++ λ©”λ¨λ¦¬ κµ¬μ΅° μ‹¤μµ: Stack vs Heap

## π― ν•™μµ λ©ν‘
1. C++μ—μ„ λ°μ΄ν„°κ°€ μ €μ¥λλ” λ‘ κ°€μ§€ μ£Όμ” μμ—­μΈ Stackκ³Ό Heapμ μ°¨μ΄λ¥Ό μ½”λ“μ™€ μ£Όμ†κ°’μΌλ΅ ν™•μΈν•λ‹¤.

2. κ°€μƒ λ©”λ¨λ¦¬ κ³µκ°„μ—μ„ κ° μμ—­μ΄ μ–΄λ–»κ² λ°°μΉλλ”μ§€ μ΄ν•΄ν•λ‹¤.

## π’» μ‹¤μµ μ½”λ“

``` cpp
#include <iostream>
using namespace std; 

int main() {
    // 1. Stack μμ—­: μ§€μ—­ λ³€μ, μ»΄νμΌ νƒ€μ„μ— ν¬κΈ° κ²°μ •
    int stackVar = 10;
    
    // 2. Heap μμ—­: λ™μ  ν• λ‹Ή, λ°νƒ€μ„μ— ν¬κΈ° κ²°μ • (μ§μ ‘ ν•΄μ  ν•„μ”)
    int* heapVar = new int(20);

    cout << "μ¤νƒ μ£Όμ†: " << &stackVar << endl; 
    cout << "ν™ μ£Όμ†: " << heapVar << endl;

    // Heap λ©”λ¨λ¦¬λ” λ°λ“μ‹ deleteλ΅ ν•΄μ  (Memory Leak λ°©μ§€)
    delete heapVar; 
    return 0;
}
```

## π” κ΄€μ°° λ° λ¶„μ„
1. λ©”λ¨λ¦¬ μ£Όμ† λΉ„κµμ‹¤μµ κ²°κ³Ό, μ¤νƒκ³Ό ν™μ μ£Όμ†κ°’μ΄ μ™„μ „ν λ‹¤λ¥Έ μμ—­μ— μ„μΉν•¨μ„ ν™•μΈν–μµλ‹λ‹¤. μ κ°€ λ°°μ΄ μ΄λ΅ μ μΈ λ°°μΉλ” λ‹¤μκ³Ό κ°™μµλ‹λ‹¤.
    - **Stack μ£Όμ†(μ: 0x13...)**: λ©”λ¨λ¦¬ μƒμ„ μ£Όμ†μ—μ„ μ‹μ‘ν•μ—¬ μ•„λλ΅ ν™•μ¥λ©λ‹λ‹¤.
    - **Heap μ£Όμ† (μ: 0x01...)**: λ©”λ¨λ¦¬ ν•μ„ μ£Όμ†μ—μ„ μ‹μ‘ν•μ—¬ μ„λ΅ ν™•μ¥λ©λ‹λ‹¤.
    - λ‘ μ£Όμ† μ‚¬μ΄μ κ±°λ¦¬κ°€ λ§¤μ° λ¨Ό κ²ƒμ€ μ΄μμ²΄μ κ°€ κ° μμ—­ μ‚¬μ΄μ— μ¶©λ¶„ν• μ—¬μ  κ³µκ°„μ„ λ‘μ–΄ μ¶©λμ„ λ°©μ§€ν•κΈ° λ•λ¬Έμ…λ‹λ‹¤.

    ν•μ§€λ§ μ‹¤μ λ΅ μ‹¤ν—ν•΄λ³Έ κ²°κ³Όλ” μ•„λμ™€ κ°™μ•μµλ‹λ‹¤.
    ```
    μ¤νƒ μ£Όμ†: 0xe871ffca4
    ν™ μ£Όμ†: 0x117821a5e00
    ```
    ν™ μ£Όμ†κ°€ 11μλ¦¬, μ¤νƒ μ£Όμ†κ°€ 9μλ¦¬λ΅ ν™ μ£Όμ†κ°€ μƒμ„ μ£Όμ†μ— μ„μΉν• κ²ƒμ„ ν™•μΈν•  μ μμµλ‹λ‹¤. μ΅°μ‚¬ν•΄λ³Έ κ²°κ³Ό ν„λ€ μ΄μμ²΄μ λ” λ‹¤μκ³Ό κ°™μ€ μ΄μ λ΅ μ£Όμ†λ¥Ό λ¬΄μ‘μ„λ΅ λ°°μΉν•¨μ„ μ•κ²λμ—μµλ‹λ‹¤.

    1. **ASLR(μ£Όμ† κ³µκ°„ λ°°μΉ λ¬΄μ‘μ„ν™”)**: λ³΄μ•μ μ΄μ λ΅ ν”„λ΅κ·Έλ¨μ„ μ‹¤ν–‰ν•  λ•λ§λ‹¤ μ¤νƒ, ν™, λΌμ΄λΈλ¬λ¦¬μ μ„μΉλ¥Ό λ¬΄μ‘μ„λ΅ λ°°μΉν•©λ‹λ‹¤.
    2. **64λΉ„νΈ**: 64λΉ„νΈ μ‹μ¤ν…μ€ κµ³μ΄ μ–‘ λμ— λ°°μΉν•μ§€ μ•μ•„λ„ μ„λ΅ λ¶€λ”ν μΌμ΄ κ±°μ μ—†κΈ° λ•λ¬Έμ— OSκ°€ κ΄€λ¦¬ν•κΈ° νΈν• κ³³μ— μμ λ΅­κ² λ°°μΉν•©λ‹λ‹¤.
    3. **Windowsμ λ©”λ¨λ¦¬ ν• λ‹Ή λ°©μ‹**: VSCλ¥Ό μλ„μ°μ—μ„ μ‚¬μ©ν•λ©΄ 'μ μ € λ¨λ‘ μ£Όμ† κ³µκ°„' λ‚΄μ—μ„ ν™μ„ μƒλ‹Ήν λ†’μ€ μ£Όμ† λ€μ—­μ— ν• λ‹Ήν•λ” κ²½ν–¥μ΄ μμµλ‹λ‹¤. λ°λ©΄ κΈ°λ³Έ μ¤νƒμ€ μƒλ€μ μΌλ΅ λ‚®μ€ μ£Όμ†μ— λ°°μΉλλ” κ²½μ°κ°€ λ§μµλ‹λ‹¤.

2. Stackκ³Ό Heapμ νΉμ§•κµ¬λ¶„

    |κµ¬λ¶„ |Stack (μ¤νƒ)|Heap (ν™)|
    |-----|--------|---------|
    |κ΄€λ¦¬ μ£Όμ²΄|μ»΄νμΌλ¬/OS(μλ™)|κ°λ°μ(μλ™: `new`/`delete`)|
    |μ†λ„|λ§¤μ° λΉ λ¦„|μƒλ€μ μΌλ΅ λλ¦Ό|
    |ν¬κΈ°μ ν•|μ‘μ(Stack Overflow μ£Όμ)|λ§¤μ° νΌ(RAM μ©λ‰λ§νΌ)|
    |μ£Όμ” μ©λ„|ν•¨μ λ‚΄ μ§€μ—­λ³€μ, λ§¤κ°λ³€μ|λ€μ©λ‰ λ°μ΄ν„°, λ™μ  λ°°μ—΄|



## π§¬ μκ³µν•™ μ—°κµ¬ λ° CUDA μ—°κ²° ν¬μΈνΈ
- **λ€μ©λ‰ μλ£ μμƒ μ²λ¦¬**: μλ£ μμƒ segmentationμ„ μ„ν• μλ°± μ¥μ CT/MRI ν”½μ…€ λ°μ΄ν„°($512$ $\times$ $512$ λ“±)λ” ν¬κΈ°κ°€ ν¬κΈ° λ•λ¬Έμ— λ°λ“μ‹ Heap μμ—­μ— ν• λ‹Ήν•μ—¬ κ΄€λ¦¬ν•΄μ•Ό ν•¨
- **λ©”λ¨λ¦¬ λ„μ(Memory Leak)**: `delete`λ¥Ό μμΌλ©΄ λ¨λΈ ν•™μµμ΄ λ°λ³µλ μλ΅ μ‹μ¤ν… RAMμ΄ κ°€λ“ μ°¨ μ„λ²„κ°€ λ©μ¶ μ μμ. νμ΄μ¬κ³Ό λ‹¬λ¦¬ C++ κΈ°λ°μ μ €μμ¤€ μµμ ν™”λ¥Ό ν•  λ•λ” μ΄ κ΄€λ¦¬κ°€ ν•µμ‹¬
- **GPU μ „μ†΅**: CUDAλ¥Ό μ‚¬μ©ν•  λ• CPUμ Heapμ— μλ” λ°μ΄ν„°λ¥Ό GPU VRAMμΌλ΅ λ³µμ‚¬ν•λ” κ³Όμ •μ΄ μ„±λ¥ λ³‘λ©μ μ›μΈμ΄ λ  μ μμ

## π™ λ‹¤μ λ‹¨κ³„
- **μ¤λ μ¤ν›„ 7μ‹**: κ³µλ£΅μ±…(OS) **Chapter 1. μ„λ΅ **μ„ ν†µν•΄ μ΄μμ²΄μ μ μ „λ°μ μΈ μ—­ν• κ³Ό μ»΄ν“¨ν„° μ‹μ¤ν…μ ν•λ“μ›¨μ–΄/μ†ν”„νΈμ›¨μ–΄ κµ¬μ΅°λ¥Ό ν•™μµν•  μμ •μ…λ‹λ‹¤.