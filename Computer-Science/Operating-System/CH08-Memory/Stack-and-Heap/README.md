# 📑 [2026-02-09] C++ 메모리 구조 실습: Stack vs Heap

## 🎯 학습 목표
1. C++에서 데이터가 저장되는 두 가지 주요 영역인 Stack과 Heap의 차이를 코드와 주소값으로 확인한다.

2. 가상 메모리 공간에서 각 영역이 어떻게 배치되는지 이해한다.

## 💻 실습 코드

``` cpp
#include <iostream>
using namespace std; 

int main() {
    // 1. Stack 영역: 지역 변수, 컴파일 타임에 크기 결정
    int stackVar = 10;
    
    // 2. Heap 영역: 동적 할당, 런타임에 크기 결정 (직접 해제 필요)
    int* heapVar = new int(20);

    cout << "스택 주소: " << &stackVar << endl; 
    cout << "힙 주소: " << heapVar << endl;

    // Heap 메모리는 반드시 delete로 해제 (Memory Leak 방지)
    delete heapVar; 
    return 0;
}
```

## 🔍 관찰 및 분석
1. 메모리 주소 비교실습 결과, 스택과 힙의 주소값이 완전히 다른 영역에 위치함을 확인했습니다.Stack 주소 (예: 0x12...): 메모리 상위 주소에서 시작하여 아래로 확장됩니다.Heap 주소 (예: 0x13...): 메모리 하위 주소에서 시작하여 위로 확장됩니다.두 주소 사이의 거리가 매우 먼 것은 운영체제가 각 영역 사이에 충분한 여유 공간을 두어 충돌을 방지하기 때문입니다.
2. Stack과 Heap의 특징구분

    |구분 |Stack (스택)|Heap (힙)|
    |-----|--------|---------|
    |관리 주체|컴파일러/OS(자동)|개발자(수동: `new`/`delete`)|
    |속도|매우 빠름|상대적으로 느림|
    |크기제한|작음(Stack Overflow 주의)|매우 큼(RAM 용량만큼)|
    |주요 용도|함수 내 지역변수, 매개변수|대용량 데이터, 동적 배열|



## 🧬 의공학 연구 및 CUDA 연결 포인트
- **대용량 의료 영상 처리**: 의료 영상 segmentation을 위한 수백 장의 CT/MRI 픽셀 데이터($512$ $\times$ $512$ 등)는 크기가 크기 때문에 반드시 Heap 영역에 할당하여 관리해야 함
- **메모리 누수(Memory Leak): `delete`를 잊으면 모델 학습이 반복될수록 시스템 RAM이 가득 차 서버가 멈출 수 있음. 파이썬과 달리 C++ 기반의 저수준 최적화를 할 때는 이 관리가 핵심
- **GPU 전송**: CUDA를 사용할 때 CPU의 Heap에 있는 데이터를 GPU VRAM으로 복사하는 과정이 성능 병목의 원인이 될 수 있음

## 🌙 다음 단계
- **오늘 오후 7시**: 공룡책(OS) **Chapter 1. 서론**을 통해 운영체제의 전반적인 역할과 컴퓨터 시스템의 하드웨어/소프트웨어 구조를 학습할 예정입니다.